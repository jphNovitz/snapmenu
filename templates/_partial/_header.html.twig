<div class=" {% if app.request.get('_route') != 'app_default' %} sticky top-0" {% endif%}{# {{ stimulus_controller('nav') }}#}>
    <header class="w-full bg-clear-dark dark:bg-primary mb-4 p-4 sticky top-0 z-40 absolute top-0 left-0 z-50">
        {#   Mobile hidden on lg screens =========================================== #}
        <div class="lg:hidden w-full grid grid-cols-12 z-50">
            <div id="menu-trigger" class="col-span-1 text-left">
                <a href="#" id="trigger-on" {{ stimulus_action('nav', 'trigger') }}
                   class="w-full h-full inline-flex justify-start items-center ">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
                         stroke="currentColor" class="w-12 h-12">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/>
                    </svg>
                </a>
            </div>
            <div id="brand" class="col-span-8  text-center ">
                {% if store.name is defined %}
                    <twig:Title:H1 class="capitalize">{{ store.name }}</twig:Title:H1>
                {% endif %}
                <a href="{{ path('app_default') }}"> Snap<strong>Menu</strong> </a>

            </div>
            <div class="col-span-3 text-right pr-4">
                {% if store is defined %}
                    <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'contact'}) }}"
                            {#            <a href="{{ path('app_contact', {slug: store.slug}) }}" #}
                       class="w-fit inline-flex justify-center items-center px-8 py-4  bg-secondary text-clear-light rounded-md">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z" />
                        </svg>

                    </a>
                {% endif %}
            </div>
        </div>
        {#     end Mobile  =========================================================== #}
        {#    desktop hidden on mobile=============================================== #}
        <div class="hidden lg:grid grid-cols-12">
            <div id="brand" class="col-span-5  text-left flex !items-baseline space-x-4">
                {% if store.name is defined %}
                    <twig:Title:H1 class="capitalize">{{ store.name }}</twig:Title:H1>
                {% endif %}
                <a href="{{ path('app_default') }}"> Snap<strong>Menu</strong> </a>
            </div>
            <nav class="col-span-5 text-base overflow-hidden h-full flex justify-start !items-baseline">
                <ul class="h-full flex  justify-start  items-center gap-x-4">
                    {% if store is defined %}
                        <li>
                            <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'menu'}) }}">{% trans %}nav.menu {% endtrans %}</a>
                        </li>
                        <li>
                            <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'heures-d-ouverture'}) }}">{% trans %}nav.opening {% endtrans %}</a>
                        </li>
                        <li>
                            <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'contact'}) }}">{% trans %}nav.contact {% endtrans %}</a>
                        </li>
                    {% else %}
                        <li><a href="#">{% trans %}nav.contact {% endtrans %}</a></li>
                    {% endif %}

                    <li class="ml-4">
                        {% if app.user is null %}
                            <a href="#"> {% trans %} nav.login{% endtrans %}</a>
                        {% else %}
                            <a href="#">  {% trans %} nav.logout {% endtrans %}</a>
                        {% endif %}
                    </li>
                </ul>
            </nav>
            <div class="col-span-2 text-right">
                {% if store is defined %}
                    <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'contact'}) }}"
                            {#            <a href="{{ path('app_contact', {slug: store.slug}) }}" #}
                       class="px-4 py-2 bg-secondary text-clear-light rounded-md inline-block align-middle">
                        Code QR
                    </a>
                {% endif %}
            </div>
        </div>
        {# end desktop -------------------------------------------------------------- -#}
    </header>
    <nav class=" lg:hidden absolute z-40 top-0 bottom-0 left-0 right-0 w-full -mt-[100vh] h-fit  p-16 bg-primary-dark text-clear transition-[margin] duration-800 ease-in-out{#-ml-[100vw]#}" {{ stimulus_target('nav', 'links') }}>
        <a  href="#" {{ stimulus_action('nav', 'trigger') }} class="absolute top-8 right-8">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor"
                 class="h-8 w-8">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/>
            </svg>
        </a>
        <ul class="w-full h-fit h-screen flex flex-col justify-start items-center py-16 space-y-8 text-clear text-lg font-semibold ">
            {% if store is defined %}
                <li>
                    <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'menu'}) }}" {{ stimulus_action('nav', 'trigger') }} >{% trans %}nav.menu {% endtrans %}</a>
                </li>
                <li>
                    <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'heures-d-ouverture'}) }}" {{ stimulus_action('nav', 'trigger') }} >{% trans %}nav.opening {% endtrans %}</a>
                </li>
                <li>
                    <a href="{{ path('app_menu', {'slug': store.slug, '_fragment': 'contact'}) }}" {{ stimulus_action('nav', 'trigger') }} >{% trans %}nav.contact {% endtrans %}</a>
                </li>
            {% else %}
                <li><a href="#">{% trans %}nav.contact {% endtrans %}</a></li>
            {% endif %}

            <li class="text-sm underline absolute bottom-8 right-8">
                {% if app.user is null %}
                    <a href="{{ path('app_login') }}"> {% trans %} nav.login{% endtrans %}</a>
                {% else %}
                    <a href="#">  {% trans %} nav.logout {% endtrans %}</a>
                {% endif %}
            </li>
        </ul>
    </nav>
</div>
